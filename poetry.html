<!DOCTYPE html>

<html>
    
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Kasper Lindmark</title>
        <meta name="description" content="Kasper Lindmark poems.">
        <link rel="stylesheet" href="main.css">
    </head>
    <body>
         <ul>        
            <li><h1>Kasper Lindmark</h1></li>     
         </ul>
         <Main id= "PoemList">   
              <script>
                   var x ="", i=1;
              while (i<154) {
                   var obj;
                   fetch('Poems/poem ('+i+').html') 
                        .then(response => response.text()) 
                        .then(data => obj = data)
                        .then(() => {
                        let parser = new DOMParser();
                        let doc = parser.parseFromString(obj, 'text/html');
                        x = x +"<div class='PoemDiv'>"+ doc.querySelector('.content').innerHTML+ "</div>";
                   })
                        .then(() => document.getElementById("PoemList").innerHTML = x)
                   i++
              }
         </script>
         </Main>
     </body>
</html>