<!DOCTYPE html>

<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Kasper Lindmark</title>
        <meta name="description" content="Kasper Lindmark poems.">
        <link rel="stylesheet" href="main.css">
    </head>
    <body>
         <ul>        
            <li><h1>Kasper Lindmark</h1></li>     
         </ul>
         <Main id= "PoemList">  
              <script>
                   //function changeImage(id) {
                   //     if (document.getElementById(id).src.indexOf("heart-solid.svg") != -1) 
                   //     {
                   //          document.getElementById(id).src = "heart-regular.svg";
                   //     }
                   //     else 
                   //     {
                   //          document.getElementById(id).src = "heart-solid.svg";
                   //     }
                   //}
                   //<img class=\"btn\" id="+doc.querySelector('title').innerHTML+" src=\"heart-regular.svg\" onclick=\"changeImage(this.id)\">
                   var x ="", i=1;
                   while (i<153) {
                   var obj;
                   fetch('Poems/poem ('+i+').html') 
                        .then(response => response.text()) 
                        .then(data => obj = data)
                        .then(() => {
                        let parser = new DOMParser();
                        let doc = parser.parseFromString(obj, 'text/html');
                        x = x +"<div class='PoemDiv'><h3>"+doc.querySelector('title').innerHTML + "<br><br></h3>"+ doc.querySelector('.content').innerHTML + "<br></i></div>";         
                   })
                        .then(() => document.getElementById("PoemList").innerHTML = x)
                   i++;
              }
              </script>
         </Main>
     </body>
</html>